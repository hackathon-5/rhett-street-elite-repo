<% include partials/header.ejs %>
    <div class="col-xs-12 col-sm-12 col-md-offset-3 col-md-6 col-lg-offset-3 col-lg-6 well">
        <form class="form">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" name="name" id="name" placeholder="Full Name" />
            </div>
            <div class="form-group">
                <label for="email">Email Address:</label>
                <input type="text" class="form-control" name="email" id="email" placeholder="user@domain.com" />
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" class="form-control" name="password" id="password" placeholder="Password" />
            </div>
            <div class="form-group">
                <label>Role:</label>
                <select class="form-control" name="role" id="role">
                    <option value="admin">admin</option>
                    <option value="client">client</option>
                    <option value="carrier">carrier</option>
                </select>
            </div>
            <div class="carrier">
                <div class="form-group">
                    <label for="carrier">Carrier Company Name:</label>
                    <select name="carrier" id="carrier" class="form-control"></select>
                </div>
            </div>
            <div class="client">
                <div class="form-group">
                    <label for="client">Client Company Name:</label>
                    <select name="client" id="client" class="form-control"></select>
                </div>
            </div>
            <div class="pull-right">
                <button class="btn btn-primary" id="signup-button">Save</button>
            </div>
            <div class="clearfix"></div>
        </form>
    </div>
    <script type="text/javascript">
        $(function() {
            $.ajax({
                url: '/api/clients/list',
                success: function(data) {
                    for(var i = 0; i < data.length; ++i) {
                        $('#client').append($('<option>', {
                            value: data[i]._id,
                            text: data[i].name
                        }));
                    }
                    if(data.length == 0) {
                        $('#client_name').show();
                    }
                    $('#client').append($('<option>', {
                        value: 'other',
                        text: 'other'
                    }));
                }
            });
            $.ajax({
                url: '/api/carriers/list',
                success: function(data) {
                    for(var i = 0; i < data.length; ++i) {
                        $('#carrier').append($('<option>', {
                            value: data[i]._id,
                            text: data[i].name
                        }));
                    }
                    if(data.length == 0) {
                        $('#carrier_name').show();
                    }
                    $('#carrier').append($('<option>', {
                        value: 'other',
                        text: 'other'
                    }));
                }
            });
        });
    </script>
<% include partials/footer.ejs %>